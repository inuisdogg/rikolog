# Edge Function エラーログの確認方法

## 500エラーが発生した場合

Edge Functionが実行されているが、内部でエラーが発生しています。ログを確認して原因を特定してください。

## ログの確認方法

### ステップ1: Supabaseダッシュボードを開く
1. https://supabase.com/dashboard にアクセス
2. プロジェクトを選択

### ステップ2: Edge Functionsのログを確認
1. 左メニューの「Edge Functions」をクリック
2. `create-user-and-send-invite` 関数をクリック
3. 「Logs」タブをクリック
4. 最新のログを確認

### ステップ3: エラーメッセージを確認
ログに表示されるエラーメッセージから原因を特定：

**よくあるエラーと対処法：**

1. **"Resend APIキーが設定されていません"**
   → Secretsに `RESEND_API_KEY` を追加してください

2. **"Supabase設定が不完全です"**
   → Secretsに `SUPABASE_SERVICE_ROLE_KEY` が設定されているか確認

3. **"usersテーブルへの保存エラー"**
   → usersテーブルのRLSポリシーを確認
   → または、usersテーブルが存在するか確認

4. **"ユーザー作成エラー"**
   → Supabase Authの設定を確認

## ログが見つからない場合

1. 関数が正しくデプロイされているか確認
2. 関数を再度デプロイしてみる
3. ブラウザをリロードして再度登録を試す

## ログの内容を共有

ログに表示されるエラーメッセージを共有していただければ、より具体的な解決方法を提案できます。

